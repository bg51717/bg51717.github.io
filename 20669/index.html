<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="pytroch_tutorials杂项, Blogs">
    <meta name="description" content="介绍
当作快速过这个资料的笔记，一些关于别的库的介绍是不完全的，考虑在使用的时候从别的信息渠道就行信息的搜集。也可以作为后面待更博客列举？
常用方式
可以参考huggingface
transformers教程总结 - 知乎 (zhihu.">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>pytroch_tutorials杂项 | Blogs</title>
    <link rel="icon" type="image/png" href="/favicon.png">
    
    <style>
        body{
            background-image: url(/medias/images/0.jpg);
            background-repeat:no-repeat;
            background-size: 100% 100%;
            background-attachment:fixed;
        }
    </style>



    <!-- bg-cover style     -->



<link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.min.css">
<link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
<link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
<link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
<link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
<link rel="stylesheet" type="text/css" href="/css/matery.css">
<link rel="stylesheet" type="text/css" href="/css/my.css">
<link rel="stylesheet" type="text/css" href="/css/dark.css" media="none" onload="if(media!='all')media='all'">




    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
    <link rel="stylesheet" href="/css/post.css">




    
        <link rel="stylesheet" type="text/css" href="/css/reward.css">
    



    <script src="/libs/jquery/jquery-3.6.0.min.js"></script>

<meta name="generator" content="Hexo 6.3.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="Blogs" type="application/atom+xml">
<link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet" /></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Blogs</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/wiki/" class="waves-effect waves-light">
      
      <i class="fas fa-book" style="zoom: 0.6;"></i>
      
      <span>Wiki</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
  <li>
    <a href="javascript:;" class="waves-effect waves-light" onclick="switchNightMode()" title="深色/浅色模式" >
      <i id="sum-moon-icon" class="fas fa-sun" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Blogs</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/wiki/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-book"></i>
			
			Wiki
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/14.webp')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">pytroch_tutorials杂项</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/transformers-tutorials/">
                                <span class="chip bg-color">transformers_tutorials</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/%E6%9D%82%E9%A1%B9/" class="post-category">
                                杂项
                            </a>
                        
                            <a href="/categories/huggingface/" class="post-category">
                                huggingface
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2024-03-23
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>更新日期:&nbsp;&nbsp;
                    2024-11-02
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    2.1k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    7 分
                </div>
                

                
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="/libs/prism/prism.min.css">
        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h2 id="介绍">介绍</h2>
<p>当作快速过这个资料的笔记，一些关于别的库的介绍是不完全的，考虑在使用的时候从别的信息渠道就行信息的搜集。也可以作为后面待更博客列举？</p>
<h2 id="常用方式">常用方式</h2>
<p>可以参考<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/576691638">huggingface
transformers教程总结 - 知乎 (zhihu.com)</a>
（这篇教程很多是基于tf的，使用时候可以考虑换成pt）和 <a target="_blank" rel="noopener" href="https://huggingface.co/docs">Hugging Face - Documentation</a>
。</p>
<h2 id="tutorials具体中文版本">tutorials具体（中文版本）</h2>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/autoclass_tutorial">使用AutoClass加载预训练实例
(huggingface.co)</a></p>
<p>这里有个注意的点是使用
AutoModelForSequenceClassification可能会在模型后面添加一层来适应下游任务（别的类似的类可能也会有类似的做法），如果想不添加任何层直接使用，考虑使用AutoModel类来加载模型。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/preprocessing">预处理
(huggingface.co)</a></p>
<p>这里介绍了怎么预处理各种数据比如文本，多模态，图片等。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/training">微调预训练模型
(huggingface.co)</a></p>
<p>这里介绍了怎么使用
<code>transformers.Trainer</code>类和pytorch原生代码来微调模型（pytorch
lighting也提供了一个Trainer）。</p>
<p>也介绍了怎么使用huggingface的github上分享的脚本来微调模型<a target="_blank" rel="noopener" href="https://github.com/huggingface/transformers">huggingface/transformers:
🤗 Transformers: State-of-the-art Machine Learning for Pytorch,
TensorFlow, and JAX. (github.com)</a>，</p>
<p>accelerate提供了accelerate config命令通过命令行交互帮助配置文件。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/accelerate#%E8%AE%BE%E7%BD%AE">🤗
加速分布式训练 (huggingface.co)</a></p>
<p>这里介绍了怎么使用accelerate来进行分布式训练，流程非常简单，基本就是pytorch框架单卡训练的代码改个四五行。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/v4.39.1/zh/peft">使用 🤗
PEFT 加载adapters (huggingface.co)</a></p>
<p>这里大致介绍了怎么使用
<code>perf</code>库进行高效的参数微调，具体表现为通过
<code>adapters</code>实现少参数调整，还大致介绍了怎么量化加载、启用、禁止、训练等。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/v4.39.1/zh/transformers_agents">Transformers
Agents (huggingface.co)</a></p>
<p>这里介绍了transformers新版本提供的一个api（测试版可能随时变化），通过自然语言来辅助进行功能实现，类似于通过自然语言编程。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/v4.39.1/zh/llm_tutorial">使用LLMs进行生成
(huggingface.co)</a></p>
<p>这里大致介绍了怎么使用
<code>model.generate()</code>进行更好且多样化生成。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/v4.39.1/zh/fast_tokenizers">使用
🤗 Tokenizers 中的分词器 (huggingface.co)</a></p>
<p>大概介绍了怎么训练、保存和加载分词器tokenizer。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/v4.39.1/zh/multilingual">用于推理的多语言模型
(huggingface.co)</a></p>
<p>介绍了一些常用的多语言翻译模型。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/v4.39.1/zh/create_a_model">创建自定义架构
(huggingface.co)</a></p>
<p>如题，使用一些配置文件自定义模型架构和各种处理器比如自然语言处理的分词器、语音识别的特征提取器等。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/v4.39.1/zh/custom_models#%E7%BC%96%E5%86%99%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A8%A1%E5%9E%8B">共享自定义模型
(huggingface.co)</a></p>
<p>这里介绍了怎么自定义模型，推送到hub上面以及怎么在AutoClass（比如AutoModel等）上面注册。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/v4.39.1/zh/chat_templating#%E6%88%91%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E8%81%8A%E5%A4%A9%E6%A8%A1%E6%9D%BF">聊天模型的模板
(huggingface.co)</a></p>
<p>这里介绍了聊天的模板，怎么把多轮对话转变成一个字符串输入模型。并且支持用户自定义模板和使用内置模板等功能。自定义模板的办法使用的是Jinja。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/v4.39.1/zh/serialization">导出为
ONNX (huggingface.co)</a></p>
<p>这里介绍了怎么通过Optimum库把模型导出为ONNX格式，ONNX模式下为公开具有标准化运算符和数据类型的图，可以进行各种优化和框架间的相互转移。</p>
<p>（这里还介绍了transformers.onnx，但这个库已经停止了维护并且回头会从教程里删去</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/v4.39.1/zh/tflite">导出为
TFLite (huggingface.co)</a></p>
<p><a target="_blank" rel="noopener" href="https://www.tensorflow.org/lite/guide">TensorFlow Lite</a>
是一个轻量级框架，用于资源受限的设备上，如手机、嵌入式系统和物联网（IoT）设备，部署机器学习模型，其文件扩展名为
<code>.tflite</code>，同样可以通过Optimum库导出。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/v4.39.1/zh/torchscript">导出为
TorchScript (huggingface.co)</a></p>
<p>这里关于torchscirpt的介绍可以参考pytorch的，这里还介绍了使用 Neuron
SDK 将 Hugging Face TorchScript 模型部署到 AWS。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/performance">性能与可扩展性
(huggingface.co)</a></p>
<p>这是关于训练和推理的综述，里面有许多指向英语文档的链接。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/fsdp">完全分片数据并行
(huggingface.co)</a></p>
<p>介绍了怎么使用accelerate把模型参数切片在多个GPU运行以及部分优化。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/perf_hardware">训练用的定制硬件
(huggingface.co)</a></p>
<p>这里引入了怎么更好的使用和了解硬件，但只是引入，还是需要后期继续深入学习。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/hpo_train">使用Trainer
API进行超参数搜索 (huggingface.co)</a></p>
<p>如题，支持多种超参数搜索框架。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/big_models">实例化大型模型
(huggingface.co)</a></p>
<p>这里介绍了怎么加载大模型，降低内存，具体表现为分片，把权重文件分成多个。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/debugging">调试
(huggingface.co)</a></p>
<p>这里介绍了怎么使用脚本进行多GPU网络问题调试和上溢下溢检测（通过hook函数统计每个模块的输入和输出的绝对值的极值）。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/perf_torch_compile">使用
torch.compile() 优化推理 (huggingface.co)</a></p>
<p>torch.compile() 优化推理过程，并且列出了许多实验结果。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/add_new_pipeline">如何创建自定义流水线？
(huggingface.co)</a></p>
<p>这里介绍了怎么自定义流水线pipeline并且注册和推送到云端。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/tokenizer_summary#%E5%AD%90%E8%AF%8D%E5%88%86%E8%AF%8D">分词器的摘要
(huggingface.co)</a></p>
<p>这里介绍了许多分词算法，如何构造tokenizer。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/main_classes/agent#transformers.Tool.setup">Agents和工具
(huggingface.co)</a></p>
<p>这里介绍了各种各样的agent和tools，agents相较于模型可以使用tools。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/main_classes/callback">Callbacks
(huggingface.co)</a></p>
<p>Callbacks可以用来自定义PyTorch
[Trainer]中训练循环行为的对象（此功能尚未在TensorFlow中实现），该对象可以检查训练循环状态（用于进度报告、在TensorBoard或其他ML平台上记录日志等），并做出决策（例如提前停止）。</p>
<p>这里介绍了一些常用的callbacks，怎么自定义callbacks，TrainerState代表当前训练状态，TrainerControl控制训练循环。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/main_classes/configuration">Configuration
(huggingface.co)</a></p>
<p>介绍了Pretrainedconfig类。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/main_classes/data_collator">Data
Collator (huggingface.co)</a></p>
<p>这里介绍了各种Data collators来处理数据。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/main_classes/logging">Logging
(huggingface.co)</a></p>
<p>这里介绍了transformers的日志系统。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/main_classes/model#transformers.PreTrainedModel">模型
(huggingface.co)</a></p>
<p>这里介绍了怎么使用PretrainedModel，由于一定原因，官方似乎推荐PretrainedModel是用于对model的一层包装，forward等函数在model里面实现。</p>
<p>还介绍了ModuleUtilsMixin，这个是py通过多继承扩展模型功能的一个类，可以参考<a target="_blank" rel="noopener" href="https://blog.csdn.net/u012814856/article/details/81355935">一个例子走近
Python 的 Mixin 类：利用 Python
多继承的魔力_mixin类-CSDN博客</a>学习Mixin类和调用顺序。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/main_classes/text_generation">Generation
(huggingface.co)</a></p>
<p>这里介绍了GenerationConfig和GenerationMixin来使得模型进行多样化的生成过程，扩展了模型的功能。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/main_classes/onnx#%E5%AF%BC%E5%87%BA--transformers-%E6%A8%A1%E5%9E%8B%E5%88%B0-onnx">导出
🤗 Transformers 模型到 ONNX (huggingface.co)</a></p>
<p>这里介绍了一些配置类来帮助transformers模型导出到ONNX。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/main_classes/optimizer_schedules">Optimization
(huggingface.co)</a></p>
<p>这里只是列举了几个模型参数跟新过程会用到的优化器等，但不是很全，也不是很深入，连示例过程都没有。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/main_classes/output">模型输出
(huggingface.co)</a></p>
<p>Transformers库所有模型的输出都是 <a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/main_classes/output#transformers.utils.ModelOutput">ModelOutput</a>
的子类的实例，这里介绍了许多输出类和基本的类。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/main_classes/pipelines">Pipelines
(huggingface.co)</a></p>
<p>这里介绍了许多Pipeline和自定义Pipeline。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/main_classes/processors">Processors
(huggingface.co)</a></p>
<p>这个库大概介绍了Processor类，用于编码或者解码多模型输入并且组合。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/main_classes/quantization#autogptq-%E9%9B%86%E6%88%90">量化
🤗 Transformers 模型 (huggingface.co)</a></p>
<p>这个大致介绍了常见的量化方法并给了简答的示例。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/main_classes/tokenizer#transformers.BatchEncoding">Tokenizer
(huggingface.co)</a></p>
<p>大致介绍了Tokenizer和常用的办法。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/main_classes/trainer#pytorch%E5%AE%8C%E5%85%A8%E5%88%86%E7%89%87%E6%95%B0%E6%8D%AE%E5%B9%B6%E8%A1%8Cfsdp">Trainer
(huggingface.co)</a></p>
<p>这里介绍了Transformers的Trainer，同时说明了这个Trainer用于别的库的模型时要注意的问题，同时还介绍了一些常用的问题和通过accelerate使用Trainer。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/main_classes/deepspeed">DeepSpeed集成
(huggingface.co)</a></p>
<p>这里介绍了DeepSpeed的很多常用的配置选项（非常复杂，挖坑todo</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/main_classes/feature_extractor#transformers.ImageFeatureExtractionMixin">Feature
Extractor (huggingface.co)</a></p>
<p>这里介绍了Feature负责为音频或视觉模型准备输入特征。这包括从序列中提取特征。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/main_classes/image_processor">Image
Processor (huggingface.co)</a></p>
<p>这里介绍了对于图像处理的Processor。</p>
<h3 id="这里往后就是介绍一些功能类可以用于扩展调试控制等功能">这里往后就是介绍一些功能类，可以用于扩展、调试控制等功能</h3>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/internal/modeling_utils#transformers.modeling_tf_utils.TFConv1D">自定义层和工具
(huggingface.co)</a></p>
<p>这里介绍了一些Transformers库的为模型提供的自定义层和帮助函数（底层还是调用的pytorch或者TensorFlow，但是组合了一些常用的层。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/internal/pipelines_utils">pipelines的工具
(huggingface.co)</a></p>
<p>这里介绍了一些为Pipeline使用的功能类。</p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/internal/tokenization_utils">Tokenizers的工具
(huggingface.co)</a></p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/internal/trainer_utils">Trainer的工具
(huggingface.co)</a></p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/internal/trainer_utils">用于生成的工具
(huggingface.co)</a></p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/internal/image_processing_utils">Image
Processors的工具 (huggingface.co)</a></p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/internal/audio_utils">FeatureExtractors
的工具 (huggingface.co)</a></p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/internal/file_utils">通用工具
(huggingface.co)</a></p>
<p><a target="_blank" rel="noopener" href="https://huggingface.co/docs/transformers/main/zh/internal/time_series_utils">时间序列工具
(huggingface.co)</a></p>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">bg51717</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://bg51717.github.io/20669/">https://bg51717.github.io/20669/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">bg51717</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/transformers-tutorials/">
                                    <span class="chip bg-color">transformers_tutorials</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    
        
        <!-- 公告区域 -->
        <div id="announcement" style="background-color: #f8d7da; color: #721c24; padding: 10px; text-align: center; font-weight: bold; border-radius: 15px;">
            由于评论系统依托于Github的Discuss存在，因此默认评论者会收到所有通知。可以在邮件里点击"unsubscribe"停止接受，后续也可以点击下列仓库进行通知管理：
            <a href="https://github.com/bg51717/Hexo-Blogs-comments" target="_blank" style="color: #0056b3; text-decoration: underline; white-space: nowrap;">
                bg51717/Hexo-Blogs-comments
            </a>
            <br>
            Since the comment system relies on GitHub's Discussions feature, by default, commentators will receive all notifications. You can click "unsubscribe" in the email to stop receiving them, and you can also manage your notifications by clicking on the following repositories:
            <a href="https://github.com/bg51717/Hexo-Blogs-comments" target="_blank" style="color: #0056b3; text-decoration: underline; white-space: nowrap;">
                bg51717/Hexo-Blogs-comments
            </a>
        </div>
        
        <!-- Giscus 评论组件 -->
        <div id="giscus-container"></div>
        <script src="https://giscus.app/client.js"
                data-repo="bg51717/Hexo-Blogs-comments"
                data-repo-id="R_kgDOKhgfLA"
                data-category="General"
                data-category-id="DIC_kwDOKhgfLM4CaPMJ"
                data-mapping="title"
                data-strict="0"
                data-reactions-enabled="1"
                data-emit-metadata="0"
                data-input-position="top"
                data-theme="light"
                data-lang="zh-CN"
                data-loading="lazy"
                crossorigin="anonymous"
                async>
        </script>
        <noscript>请启用 JavaScript 以查看评论。</noscript>
    
    

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/63314/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/0.webp" class="responsive-img" alt="nlp常用排行榜">
                        
                        <span class="card-title">nlp常用排行榜</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2024-04-05
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" class="post-category">
                                    深度学习
                                </a>
                            
                            <a href="/categories/%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80%E5%A4%84%E7%90%86/" class="post-category">
                                    自然语言处理
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/42347/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/29.webp" class="responsive-img" alt="pytorch_model">
                        
                        <span class="card-title">pytorch_model</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2024-02-24
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E6%A8%A1%E6%9D%BF/" class="post-category">
                                    模板
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E6%A8%A1%E6%9D%BF/">
                        <span class="chip bg-color">模板</span>
                    </a>
                    
                    <a href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">
                        <span class="chip bg-color">深度学习</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>


  <!-- 是否加载使用自带的 prismjs. -->
  <script type="text/javascript" src="/libs/prism/prism.min.js"></script>


<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>



    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>





    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js"></script>
    
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: "$$", right: "$$", display: true},
                    {left: "$", right: "$", display: false},
                    {left: "\\(", right: "\\)", display: false},
                    {left: "\\[", right: "\\]", display: true}
                ]
            });

            // 判断是否需要隐藏滚动条
            var hideScrollbar = false;
            if (hideScrollbar) {
                const katexElements = document.querySelectorAll('.katex-display');
                katexElements.forEach(function(el) {
                    el.style.overflowX = 'hidden';
                });
            }
        });
    </script>


    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="song"
                   id="571336152"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='false'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="/libs/aplayer/Meting.min.js"></script>

    

    <div class="container row center-align"
         style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2019-2024</span>
            
            <a href="/about" target="_blank">bg51717</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            
            <br>
            
                &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                        class="white-color">42.5k</span>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- 运行天数提醒. -->
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/bg51717" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:2419163999@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=2419163999" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 2419163999" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        var root = '/';  // 通过模板引擎动态获取 root
                        if (data_url.indexOf('http') !== 0) {
                            // 生成绝对路径，确保基于网站根目录
                            data_url =  window.location.host +'/'+root+'/'+ data_url;
                            data_url = data_url.replace(/\/+/g, '/'); // 去掉连续的斜杠
                            data_url = data_url.replace(/^\//, '');   // 去掉开头的斜杠
                            data_url = window.location.protocol + '//' + data_url;
                        }
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 白天和黑夜主题 -->
<div class="stars-con">
    <div id="stars"></div>
    <div id="stars2"></div>
    <div id="stars3"></div>  
</div>

<script>
    function switchNightMode() {
        $('<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>').appendTo($('body')),
        setTimeout(function () {
            $('body').hasClass('DarkMode') 
            ? ($('body').removeClass('DarkMode'), localStorage.setItem('isDark', '0'), $('#sum-moon-icon').removeClass("fa-sun").addClass('fa-moon')) 
            : ($('body').addClass('DarkMode'), localStorage.setItem('isDark', '1'), $('#sum-moon-icon').addClass("fa-sun").removeClass('fa-moon')),
            
            setTimeout(function () {
            $('.Cuteen_DarkSky').fadeOut(1e3, function () {
                $(this).remove()
            })
            }, 2e3)
        })
    }
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    

    
    
    

    <!-- 雪花特效 -->
    

    <!-- 鼠标星星特效 -->
    

     
        <script src="https://ssl.captcha.qq.com/TCaptcha.js"></script>
        <script src="/libs/others/TencentCaptcha.js"></script>
        <button id="TencentCaptcha" data-appid="xxxxxxxxxx" data-cbfn="callback" type="button" hidden></button>
    

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    <!--腾讯兔小巢-->
    
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
